<div class="row">
  <div class="col-4">
      <div class="form-group">
          <label for="principal" >Principal Amount</label>
      </div>      
  </div>
  <div class="col-4">
      <div class="form-group">
          <input type="text" id="principal" class="form-control" [(ngModel)]="loanDetails.principalAmount">
      </div>      
  </div>  
</div>
<div class="row">
  <div class="col-4">
      <div class="form-group">
        <label for="loanPeriods" >Loan Periods</label>
      </div>      
  </div>
  <div class="col-4">
      <div class="form-group">
          <select id="loanPeriod" class="browser-default custom-select" [(ngModel)]="loanDetails.loanLife">              
              <option value="12">12</option>
              <option value="36">36</option>
              <option value="120">120</option>
              <option value="300">300</option>
              <option value="360">360</option>          
            </select>
      </div>
  </div>  
</div>
<div class="row">
  <div class="col-4">
      <div class="form-group">
        <label for="interestRate" >Annual Interest Rate</label>
      </div>      
  </div>
  <div class="col-4">
      <div class="form-group">
          <select id="interestRate" class="browser-default custom-select" [(ngModel)]="loanDetails.interestRate">              
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="4.5">4.5</option>
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="6.5">6.5</option>
              <option value="12">12</option>
              <option value="36">15</option>          
            </select>
      </div>
  </div>  
</div>
<div class="row">
  <div class="col-4">
    <div class="form-check">
      <input type="checkbox" class="form-check-input" id="decliningInterest" [(ngModel)]="loanDetails.decliningInterest">
      <label class="form-check-label" for="decliningInterest">Declining Interest</label>
    </div>
  </div>
</div>
<div class="row">
    <div class="offset-6 col-4">
        <button class="btn-success btn" (click)="calculate()">Calculate</button>
    </div>    
</div>
<div class="row" *ngIf="null != errorMessage">
  <div class="col-12">
    <div class="alert alert-warning">{{errorMessage}}</div>
  </div>
</div>
<div *ngIf="schedule.length > 0">
    <div class="row">
      <div class="col-8">
        <strong>Equated Monthly Instalment: </strong>
        {{emi | currency}}
      </div>
    </div>
    <div class="row" >
        <div class="col-12">        
            <strong>Repayment Schedule</strong>
            <table mdbTable >
                <thead>
                  <tr>
                    <th *ngFor="let head of headElements" scope="col">{{head}}</th>
                  </tr>
                </thead>
                <tbody>
                  <tr mdbTableCol *ngFor="let item of schedule">
                    <th scope="row">{{item.period}}</th>
                    <td>{{item.date | date}}</td>
                    <td>{{item.balance | currency}}</td>
                    <td>{{item.instalment | currency}}</td>
                    <td>{{item.toInterest | currency}}</td>
                    <td>{{item.toPrincipal | currency}}</td>
                  </tr>
                  <tr mdbTableCol>
                    <td colspan="3"><strong>Total</strong></td>
                    <td>{{summary.totalInstalment | currency}}</td>
                    <td>{{summary.totalInterest | currency}}</td>
                    <td>{{summary.totalToPrincipal | currency}}</td>
                  </tr>
                </tbody>
              </table>
        </div>
    </div>
</div>
